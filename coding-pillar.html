<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NovaSTEM EDU â€” Coding Pillar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />

  <style>
    body {
      background: #e6f4ec;
      font-family: "Space Grotesk", sans-serif;
    }

    .pillar-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 80px 24px;
    }

    /* ---------- HERO ---------- */

    .pillar-hero {
      display: grid;
      grid-template-columns: 320px 1fr;
      gap: 48px;
      align-items: center;
      margin-bottom: 72px;
    }

    .pillar-visual img {
      width: 100%;
      height: auto;
      filter: drop-shadow(0 20px 50px rgba(21, 128, 61, 0.35));
      pointer-events: none;
      user-select: none;
    }

    .pillar-meta h1 {
      font-size: 2.6rem;
      margin-bottom: 16px;
    }

    .pillar-meta p {
      color: #475569;
      font-size: 1.1rem;
      max-width: 520px;
    }

    /* ---------- LESSONS ---------- */

    .lessons-section h2 {
      font-size: 1.8rem;
      margin-bottom: 24px;
    }

    .lesson-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 24px;
    }

    .lesson-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      border: 2px solid rgba(21, 128, 61, 0.15);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .lesson-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(21, 128, 61, 0.25);
    }

    .lesson-card h3 {
      font-size: 1.1rem;
      margin-bottom: 8px;
    }

    .lesson-card p {
      font-size: 0.95rem;
      color: #64748b;
    }

    .coming-soon {
      color: #64748b;
      font-style: italic;
    }

    /* ---------- MOBILE ---------- */

    @media (max-width: 768px) {
      .pillar-hero {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .pillar-meta p {
        margin: 0 auto;
      }
    }
  </style>
</head>

<body>

<div class="pillar-container">

  <!-- HERO -->
  <section class="pillar-hero">
    <div class="pillar-visual">
      <img src="coding-brain.png" alt="Coding Pillar Brain" />
    </div>

    <div class="pillar-meta">
      <h1 id="pillar-title"></h1>
      <p id="pillar-description"></p>
    </div>
  </section>

  <!-- LESSONS -->
  <section class="lessons-section">
    <h2>Lessons</h2>
    <div id="lesson-grid" class="lesson-grid"></div>
  </section>

</div>

<script src="data/course-map.js"></script>
<script>
  const params = new URLSearchParams(window.location.search);
  const pillarId = params.get("pillar");

  const titleEl = document.getElementById("pillar-title");
  const descEl = document.getElementById("pillar-description");
  const lessonGrid = document.getElementById("lesson-grid");

  if (!pillar) {
    titleEl.textContent = "Invalid Pillar";
    descEl.textContent = "This pillar does not exist.";
    throw new Error("Invalid pillar ID");
  }


  const pillar = COURSE_MAP.coding.pillars.find(p => p.id === pillarId);

  titleEl.textContent = pillar.title;
  descEl.textContent = pillar.description;

  const lessons = pillar.lessons || [];

  if (lessons.length === 0) {
    lessonGrid.innerHTML = `<p class="coming-soon">Lessons coming soon.</p>`;
  } else {
    lessons.forEach(lesson => {
      const card = document.createElement("div");
      card.className = "lesson-card";

      card.innerHTML = `
        <h3>${lesson.title}</h3>
        <p>${lesson.goal || "Start learning this concept."}</p>
      `;

      card.onclick = () => {
        window.location.href =
          `lesson.html?pillar=${pillarId}&lesson=${lesson.id}`;
      };

      lessonGrid.appendChild(card);
    });
  }
</script>

</body>
</html>

